# 操作系统预备知识

参考文章: https://juejin.cn/post/6936486914568486943

## 操作系统全貌

![img](D:\CPrograming\MyPic\79b12dace30c4865be927eb2a22dd65b~tplv-k3u1fbpfcp-watermark.awebp)

## 多核与多CPU

![img](D:\CPrograming\MyPic\826b8991b2b343b39477378972719f05~tplv-k3u1fbpfcp-watermark.awebp)

多CPU, 多个CPU**工作在一个操作系统上**, 通过主板上**总线**进行通信

多Core, 一个CPU有多个**处理器**, 处理器之间通过**CPU内部总线**通信

![img](D:\CPrograming\MyPic\b3a3a0e067db4471af617ffc4fd028ac~tplv-k3u1fbpfcp-watermark.awebp)

## 进程和线程序

### 二者概念区分

**进程**: 是操作系统（OS）进行==资源（CPU、内存、磁盘、IO、带宽等）==分配的最小单位。**一个进程就是一个程序的运行实例**

**线程**: 是CPU==调度和分配==的基本单位。操作系统会根据进程的优先级和线程的优先级去调度CPU。线程数是一种==逻辑概念==, 是模拟出的CPU核心数.

![img](D:\CPrograming\MyPic\40d845d4f7c64860b9447237b054d9d6~tplv-k3u1fbpfcp-watermark.awebp)

### 二者关系

**线程之间共享进程中的数据**

**主执行线程终止或关闭，进程也就随之终止，操作系统会回收改进程所占用的资源**

**进程中的任意一线程执行出错，都会导致整个进程的崩溃**

**进程之间的内容相互隔离防止程序崩溃的连带作用或者一个进程数据写入另一个进程**

**CPU内核数，和进程线程没直接关系线程能够获得CPU资源**

**线程只是由进程创建，但是进程本身不会负责调度线程, 进程和线程都由操作系统调度, 操作系统不会对进行和线程进行区分**

### 程序, 进程和线程的关系

1. 程序

   程序是静态实体, 本身没有任何含义

2. 进程

   进程是程序的一次执行

   - 动态实体
   - 生命周期: 进程的生命周期反应的是一个程序在一定数据集上运行的全部动态过程
     - 创建 -- 进程产生
     - 调度 -- 进程运行
     - 等待资源或事件 -- 进程等待
     - 任务完成 -- 进程撤销

   - 一个进程运行在单个CPU上, 多个进程的CPU并发执行该程序

3. 线程